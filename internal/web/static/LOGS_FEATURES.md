# BoomDNS 日志管理功能说明

## 🆕 新增功能

### 1. 智能搜索
- **实时搜索**: 输入域名关键词，支持模糊匹配
- **防抖优化**: 300ms延迟，避免频繁请求
- **多字段搜索**: 支持域名和路由名称搜索

### 2. 高级过滤
- **路由过滤**: 按路由类型筛选（中国、国际、广告拦截、缓存）
- **时间范围**: 支持1小时、6小时、24小时、7天、全部时间
- **组合过滤**: 搜索、路由、时间可同时使用

### 3. 分页浏览
- **灵活分页**: 支持50、100、200、500条/页
- **智能导航**: 首页、上一页、下一页、末页快速跳转
- **状态显示**: 当前页、总页数、显示条数实时更新

### 4. 排序功能
- **多列排序**: 时间、域名、路由列支持排序
- **双向排序**: 升序/降序切换，图标动态显示
- **状态保持**: 排序状态在过滤后保持

### 5. 数据导出
- **CSV格式**: 标准CSV格式，支持Excel打开
- **智能命名**: 自动生成带日期的文件名
- **过滤导出**: 只导出当前过滤结果

### 6. 操作管理
- **复制域名**: 一键复制域名到剪贴板
- **清空日志**: 安全确认后清空所有日志
- **实时刷新**: 自动刷新，不影响用户浏览

## 🎯 使用场景

### 开发调试
- 快速查找特定域名的查询记录
- 分析路由决策逻辑
- 监控缓存命中情况

### 运维监控
- 查看DNS查询趋势
- 分析用户访问模式
- 排查网络问题

### 数据分析
- 导出日志进行离线分析
- 统计不同路由的使用情况
- 生成报告和图表

## 🔧 技术特性

### 性能优化
- **前端分页**: 减少服务器压力
- **防抖搜索**: 提升用户体验
- **智能刷新**: 只在必要时更新

### 用户体验
- **响应式设计**: 支持各种屏幕尺寸
- **直观操作**: 图标和颜色辅助识别
- **即时反馈**: 操作结果实时显示

### 数据安全
- **确认机制**: 危险操作需要确认
- **权限控制**: 支持Token认证
- **错误处理**: 友好的错误提示

## 📱 界面布局

```
┌─────────────────────────────────────────────────────────────┐
│ 查询日志                                                    │
├─────────────────────────────────────────────────────────────┤
│ [搜索框] [路由过滤] [时间范围] [每页数量]                  │
├─────────────────────────────────────────────────────────────┤
│ 总计: 58条  当前页: 1/1  显示: 58条                        │
├─────────────────────────────────────────────────────────────┤
│ 时间 ▼ | 域名 ▼ | 路由 ▼ | 操作                            │
├─────────────────────────────────────────────────────────────┤
│ 2025-08-12 09:24:33 | google.com | 🌍国际路由 | 📋        │
│ 2025-08-12 09:24:33 | baidu.com  | 🇨🇳中国路由 | 📋        │
│ 2025-08-12 09:24:34 | github.com | 🌍国际路由 | 📋        │
├─────────────────────────────────────────────────────────────┤
│ [首页] [上一页] 第1/1页 [下一页] [末页]  [导出] [清空]     │
└─────────────────────────────────────────────────────────────┘
```

## 🚀 快速开始

1. **打开Web界面**: 访问 `http://localhost:8080`
2. **查看日志**: 在"查询日志"卡片中浏览DNS查询记录
3. **搜索域名**: 在搜索框中输入关键词
4. **过滤结果**: 选择路由类型和时间范围
5. **分页浏览**: 使用分页控件浏览更多记录
6. **导出数据**: 点击"导出日志"下载CSV文件

## 💡 使用技巧

- **快速搜索**: 输入域名前缀即可快速定位
- **组合过滤**: 同时使用多个过滤条件缩小范围
- **排序优化**: 点击列标题切换排序方式
- **批量操作**: 调整每页显示数量减少翻页次数
- **实时监控**: 保持页面打开，自动获取最新数据

## 🔍 故障排除

### 常见问题
1. **搜索无结果**: 检查关键词拼写，尝试部分匹配
2. **分页异常**: 刷新页面，重新加载数据
3. **导出失败**: 检查浏览器下载设置
4. **显示异常**: 清除浏览器缓存，重新访问

### 性能优化
1. **减少过滤条件**: 使用更精确的搜索词
2. **调整分页大小**: 根据网络情况选择合适的每页数量
3. **避免频繁刷新**: 让自动刷新机制工作
4. **清理浏览器**: 定期清理缓存和Cookie
